<section class="post-feed">
	<h2 class="section-title">Latest Posts</h2>
	{{#foreach posts}}
		<article class="post-card post-card--with-image">
			<div class="post-header">
				<img src="{{img_url primary_author.profile_image size="s"}}" alt="{{primary_author.name}}" class="author-avatar">
				<div class="author-info">
					<a href="{{primary_author.url}}" class="author-name">{{primary_author.name}}</a>
					<div class="post-meta">
						<time datetime="{{date published_at format="YYYY-MM-DD"}}">
							{{date published_at format="MMMM D, YYYY"}}
						</time>
					</div>
				</div>
			</div>
			<div class="post-body-flex">
				<div class="post-content-flex">
					<h2 class="post-title">
						<a href="{{url}}">{{title}}</a>
					</h2>
					<p class="post-excerpt">{{excerpt words="60"}}</p>
					<div class="post-actions">
						<span class="post-action">{{primary_tag.name}}</span>
						<span class="post-action" data-action="like">Like</span>
						<a href="{{url}}#comments" class="post-action">Comment</a>
						<span class="post-action" data-action="share">Share</span>
						<span class="post-action" data-action="save">Save</span>
					</div>
				</div>
				<div class="post-media-flex">
					{{#if feature_image}}
						<img src="{{img_url feature_image size="m"}}" alt="{{title}}" class="post-image">
						{{#if feature_image_caption}}
							<figcaption>{{feature_image_caption}}</figcaption>
						{{/if}}
					{{else}}
						<img src="{{asset "img/collage2.jpg"}}" alt="{{title}}" class="post-image post-image-fallback">
						<figcaption>Generated by Dalle-2</figcaption>
					{{/if}}
				</div>
			</div>
		</article>
	{{/foreach}}
</section>
{{#if pagination.next}}
	<div class="load-more">
		<button id="load-more-btn" type="button" aria-label="Load more posts">
			Load More Posts
		</button>
	</div>
{{else}}
	<div class="load-more">
		<button id="load-more-btn" type="button" disabled class="no-more">
			No more posts
		</button>
	</div>
{{/if}}
<script type="application/json" id="pagination-data">
{
	"currentPage": {{pagination.page}},
	"totalPages": {{pagination.pages}},
	"hasNext": {{#if pagination.next}}true{{else}}false{{/if}},
	"hasPrev": {{#if pagination.prev}}true{{else}}false{{/if}},
	"total": {{pagination.total}},
	"limit": {{pagination.limit}}
}
</script>